(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00049b7e"],{"0ca8":function(t,e,n){},"9a7a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("v-card",{staticClass:"mx-auto"},[n("v-container",[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12"}},[n("v-card",{attrs:{color:"#385F73",dark:""}},[n("v-card-title",{staticClass:"text-h5"},[t._v(" 商品 ")]),n("v-card-subtitle",[t._v("你一共收藏了"+t._s(t.total)+"件商品")]),n("v-card-actions",[n("v-btn",{attrs:{color:"error"},on:{click:t.clearCollects}},[t._v("清空收藏列表")])],1)],1)],1),t._l(t.list,(function(e,a){return n("v-col",{key:a,attrs:{cols:"12"}},[n("v-card",{attrs:{color:t.list[a].color}},[n("div",{staticClass:"d-flex flex-no-wrap justify-space-between align-center"},[n("v-avatar",{staticClass:"ma-3",attrs:{size:"125",tile:""}},[n("v-img",{attrs:{src:e.noteDocs1[0].img}})],1),n("v-card-text",{staticClass:"text-h10"},[t._v("名称: "+t._s(e.noteDocs1[0].title))]),n("v-card-text",{staticClass:"text-h10"},[t._v("价格:"+t._s(e.noteDocs1[0].price)+"元")]),n("v-card-text",{staticClass:"text-h10"},[(e.noteDocs1[0].condition=1)?n("span",[t._v("在售状态:未出售")]):(e.noteDocs1[0].condition=2)?n("span",[t._v("在售状态:已出售")]):(e.noteDocs1[0].condition=3)?n("span",[t._v("在售状态:已下架")]):n("span",[t._v("在售状态:商品已删除")])]),n("div",[n("v-card-actions",[n("v-btn",{staticClass:"ml-2 mt-5 text-h10",on:{click:function(n){return t.clearCollect(e.noteDocs1[0]._id)}}},[t._v(" 删除收藏的商品 ")])],1),n("v-card-actions",[n("v-btn",{staticClass:"ml-2 mt-5 text-h10",on:{click:function(n){return t.createOrders(e.nid)}}},[t._v(" 商品加入购物车 ")])],1)],1)],1)])],1)}))],2)],1)],1),n("infinite-loading",{on:{infinite:t.infiniteHandler}}),n("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",large:"",color:"purple",id:"bottom"},on:{click:t.home}},[t._v(" 首页 ")])],1)},r=[],c=n("2909"),o=n("1da1"),s=(n("96cf"),n("d3b7"),n("159b"),n("e166")),i=n.n(s),l=n("b6f9"),u=(n("1c9f"),n("ce3c")),d={data:function(){return{page:1,list:[],color:"#FFFFFF",colorId:!1,total:0,repeate:!1,user:this.$store.state.auth.user,warn:!1}},methods:{home:function(){this.$router.push({name:"Home"})},infiniteHandler:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,l["a"].getCollects({limit:4,page:e.page,id:e.user.id}).then((function(n){var a;(console.log(n),n.data.length>0)?(e.page+=1,(a=e.list).push.apply(a,Object(c["a"])(n.data)),e.list.forEach((function(t){t.btn=!1,t.color=""})),e.total=n.data.length,t.loaded()):t.complete()})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})))()},clearCollect:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,l["a"].clearCollect({userId:e.user.id,collect:t}).then((function(t){e.page=1,e.list=[],e.infiniteHandler()})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})))()},clearCollects:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].clearCollects({userId:t.user.id,collects:[]}).then((function(e){t.list=[]})).catch((function(e){console.log("123"),t.warn=!0}));case 2:case"end":return e.stop()}}),e)})))()},createOrders:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return null===e.user&&e.$router.push({name:"SignIn"}),n.next=3,e.$store.dispatch("count",e.$store.state.auth.count).catch((function(t){return console.log(t)}));case 3:return n.next=5,u["a"].createOrder({userId:e.user.id,productId:t,amount:"1"}).then((function(t){console.log(t),e.warn=!0})).catch((function(t){return console.log(t)}));case 5:case"end":return n.stop()}}),n)})))()}},watch:{},components:{InfiniteLoading:i.a}},f=d,v=(n("f579"),n("2877")),h=n("6544"),p=n.n(h),m=n("8212"),g=n("8336"),w=n("b0af"),b=n("99d9"),x=n("62ad"),C=n("a523"),_=n("adda"),k=n("0fd9"),V=Object(v["a"])(f,a,r,!1,null,"5324f95a",null);e["default"]=V.exports;p()(V,{VAvatar:m["a"],VBtn:g["a"],VCard:w["a"],VCardActions:b["a"],VCardSubtitle:b["b"],VCardText:b["c"],VCardTitle:b["d"],VCol:x["a"],VContainer:C["a"],VImg:_["a"],VRow:k["a"]})},f579:function(t,e,n){"use strict";n("0ca8")}}]);
//# sourceMappingURL=chunk-00049b7e.090f8075.js.map