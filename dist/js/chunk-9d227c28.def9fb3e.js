(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d227c28"],{"392d":function(t,e,a){},6480:function(t,e,a){"use strict";a("392d")},"9d3c":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-card",{staticClass:"mx-auto"},[a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{color:"#385F73",dark:""}},[a("v-card-title",{staticClass:"text-h5"},[t._v(" 商品 ")]),a("v-card-subtitle",[t._v("你一共购买"+t._s(t.total)+"件商品")]),a("v-card-actions",[a("v-btn",{attrs:{color:"error"},on:{click:t.clearOrders}},[t._v("清空已购买商品的列表")])],1)],1)],1),t._l(t.list,(function(e,r){return a("v-col",{key:r,attrs:{cols:"12"}},[a("v-card",{attrs:{color:t.list[r].color}},[a("div",{staticClass:"d-flex flex-no-wrap justify-space-between align-center"},[a("v-avatar",{staticClass:"ma-3",attrs:{size:"125",tile:""}},[a("v-img",{attrs:{src:e.productId[0].img}})],1),a("v-card-text",{staticClass:"text-h10",domProps:{textContent:t._s(e.productId[0].title)}}),a("v-card-text",{staticClass:"text-h10"},[t._v("价格"+t._s(e.productId[0].price)+"元")]),a("div",[a("v-card-actions",[a("v-btn",{staticClass:"ml-2 mt-5 text-h10",on:{click:function(a){return t.deleteItem(e._id)}}},[t._v(" 删除结算商品 ")])],1)],1)],1)])],1)}))],2)],1)],1),a("infinite-loading",{on:{infinite:t.infiniteHandler}}),a("div")],1)},n=[],c=a("2909"),i=a("1da1"),o=(a("96cf"),a("d3b7"),a("159b"),a("e166")),s=a.n(o),l=a("ce3c"),d={data:function(){return{page:1,list:[],color:"#FFFFFF",colorId:!1,total:0,priceList:[],totalPrice:0,totalNum:0,repeate:!1,user:this.$store.state.auth.user}},methods:{infiniteHandler:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,l["a"].loadOrders({limit:4,page:e.page,id:e.user.id,payed:!0}).then((function(a){var r;a.data.Orders.length>0?(e.page+=1,(r=e.list).push.apply(r,Object(c["a"])(a.data.Orders)),e.list.forEach((function(t){t.btn=!1,t.color=""})),e.total=a.data.count,t.loaded()):t.complete()})).catch((function(t){console.log(t)}));case 2:case"end":return a.stop()}}),a)})))()},clearOrders:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].clearOrder().then((function(e){t.list=[],t.priceList=[],t.totalPrice=0,t.totalNum=0,t.total=0})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},deleteItem:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,l["a"].deleteOrders({id:t}).then((function(t){e.page=1,e.list=[],e.infiniteHandler()})).catch((function(t){console.log(t)}));case 2:case"end":return a.stop()}}),a)})))()}},watch:{},components:{InfiniteLoading:s.a}},u=d,f=(a("6480"),a("2877")),p=a("6544"),v=a.n(p),h=a("8212"),m=a("8336"),g=a("b0af"),w=a("99d9"),x=a("62ad"),b=a("a523"),C=a("adda"),O=a("0fd9"),_=Object(f["a"])(u,r,n,!1,null,"021fe00c",null);e["default"]=_.exports;v()(_,{VAvatar:h["a"],VBtn:m["a"],VCard:g["a"],VCardActions:w["a"],VCardSubtitle:w["b"],VCardText:w["c"],VCardTitle:w["d"],VCol:x["a"],VContainer:b["a"],VImg:C["a"],VRow:O["a"]})}}]);
//# sourceMappingURL=chunk-9d227c28.def9fb3e.js.map